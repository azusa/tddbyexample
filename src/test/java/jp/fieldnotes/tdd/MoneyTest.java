package jp.fieldnotes.tdd;import static org.hamcrest.CoreMatchers.*;import static org.junit.Assert.*;import org.junit.Ignore;import org.junit.Test;public class MoneyTest {	@Test	public void currency() throws Exception {		assertThat("USD", is(Money.dollar(1).currency()));		assertThat("CHF", is(Money.franc(1).currency()));	}	@Test	public void simpleAddition() throws Exception {		Money five = Money.dollar(5);		Expression sum = five.plus(five);		Bank bank = new Bank();		Money reduced = bank.reduce(sum, "USD");		assertThat(reduced, is(Money.dollar(10)));	}	@Test	public void plusReturnsSum() {		Money five = Money.dollar(5);		Expression result = five.plus(five);		Sum sum = (Sum) result;		assertThat(sum.augend, is((Expression) five));		assertThat(sum.addend, is((Expression) five));	}	@Test	public void reduceSum() throws Exception {		Expression sum = new Sum(Money.dollar(3), Money.dollar(4));		Bank bank = new Bank();		Money result = bank.reduce(sum, "USD");		assertThat(result, is(Money.dollar(7)));	}	@Test	public void reduceMoney() throws Exception {		Bank bank = new Bank();		Money result = bank.reduce(Money.dollar(1), "USD");		assertThat(result, is(Money.dollar(1)));	}	@Test	public void identityRate() {		assertThat(new Bank().rate("USD", "USD"), is(1));	}	@Test	public void reduceMoneyDiffrentCurrency() throws Exception {		Bank bank = new Bank();		bank.addRate("CHF", "USD", 2);		Money result = bank.reduce(Money.franc(2), "USD");		assertThat(result, is(Money.dollar(1)));	}	@Ignore	@Test	public void arrayEquals() throws Exception {		assertThat(new Object[] { "abc" }, is(equalTo(new Object[] { "abc" })));	}	@SuppressWarnings("deprecation")	@Ignore	@Test	public void arrayEquals2() throws Exception {		assertEquals(new Object[] { "abc" }, new Object[] { "abc" });	}	@Test	public void mixedAddition() throws Exception {		Expression fiveBucks = Money.dollar(5);		Expression tenFrancs = Money.franc(10);		Bank bank = new Bank();		bank.addRate("CHF", "USD", 2);		Money result = bank.reduce(fiveBucks.plus(tenFrancs), "USD");		assertThat(result, is(Money.dollar(10)));	}	@Test	@Ignore	public void plusCurrencyReturnsMoney() throws Exception {		Expression sum = Money.dollar(1).plus(Money.dollar(1));		assertThat(sum instanceof Money, is(true));	}}